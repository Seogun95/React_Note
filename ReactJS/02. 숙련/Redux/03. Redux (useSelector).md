# Redux useSelector

## 01. ëª¨ë“ˆ ìƒì„±

ìš°ì„ , ì´ ì „ì— useStateë¡œ ë§Œë“¤ì—ˆë˜ counter í”„ë¡œê·¸ë¨ì„ reduxë¡œ ë‹¤ì‹œ ë§Œë“¤ì–´ë³´ëŠ”ê²ƒì´ ëª©í‘œì´ë‹¤.

moduleì€ Stateì˜ ê·¸ë£¹ì´ë‹¤. ì¦‰,  ì²« ëª¨ë“ˆì€ ì¹´ìš´í„° í”„ë¡œê·¸ë¨ì— í•„ìš”í•œ Stateë“¤ì´ ëª¨ì—¬ìˆëŠ” ëª¨ë“ˆì´ ë˜ëŠ”ê²ƒì´ë‹¤.

```
ğŸ“¦src  
 â”£ ğŸ“‚redux  
 â”ƒ â”£ ğŸ“‚config  
 â”ƒ â”ƒ â”— ğŸ“œconfigStore.js  
 â”ƒ â”£ ğŸ“‚modules  
 â”ƒ â”ƒ â”— ğŸ“œcounter.js  
 â”ƒ â”— ğŸ“œ.DS_Store  
 â”£ ğŸ“œApp.css  
 â”£ ğŸ“œApp.js  
 â”— ğŸ“œindex.js
```

`modules`  í´ë” âœ `counter.js` ìƒì„±

ìš°ì„  counter.jsì— ë“¤ì–´ê°ˆ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```js
//ì´ˆê¸° ìƒíƒœ ê°’ (state)
const initialState = {
  number: 0,
};

//Input : stateì™€ actionì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤. (ê¸°ë³¸ ê°’)
//stateì˜ ì´ˆê¸°ê°’ == initialState
//actionì€ ê°ì²´í˜•íƒœì´ë©°, typeê³¼ valueë¥¼ ê°€ì§€ê³  ìˆë‹¤.
//action stateë¥¼ ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ë¥¼ ì»¨íŠ¸ë¡¤ í•œë‹¤. +í˜¹ì€ -?
const counter = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state; //initalState ë¥¼ ë¦¬í„´í•´ë¼
  }
};

export default counter;

```

### ë¦¬ë“€ì„œ ì½”ë“œ ì„¤ëª…

1. ëª¨ë“ˆì—ëŠ” ì´ˆê¸° ìƒíƒœê°’ì„ ì •í•´ì¤˜ì•¼ í•œë‹¤. ì´ê²ƒì´ stateì´ë‹¤.

```js
const initialState = {
	number: 0
}
```

ì›ë˜ useStateì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í–ˆì—ˆë‹¤.

```jsx
const [number, setNumber] = useState(0)
```

2. ê·¸ ë°‘ì— ë¦¬ë“€ì„œë¥¼ ìƒì„±í•´ì¤˜ì•¼ í•œë‹¤.

* [[ë¦¬ë“€ì„œ]] ëŠ” **stateì— ë³€í™”ë¥¼ ì´ë¥´í‚¤ëŠ” í•¨ìˆ˜ì´ë‹¤**. ë¦¬ë“€ì„œ === í•¨ìˆ˜
	* stateë¥¼ actionì˜ typeì— ë”°ë¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ í•´ì£¼ëŠ” í•¨ìˆ˜
* input ê°’ì—ëŠ” **stateì™€ actionì„ ì¸ìê°’**ìœ¼ë¡œ ë°›ëŠ”ë‹¤. ì´ê²ƒì€ ê³ ì •ê°’ì´ë‹¤.
	* ë¦¬ë•ìŠ¤íŒ€ì—ì„œ ë§Œë“  ê·œì¹™ì´ë‹¤.
* state ì¸ìê°’ì—ëŠ” ì´ˆê¸°ìƒíƒœë¥¼ ë„£ì–´ì¤€ë‹¤. `state = initialState`
* â­ï¸ ==actionì€ ê°ì²´ì˜ í˜•íƒœì´ê³  ê·¸ ì•ˆì— tyleê³¼ valueë¥¼ ê°€ì§€ê³  ìˆë‹¤.==
	* actionì€ stateë¥¼ ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ë¥¼ ì»¨íŠ¸ë¡¤ í•œë‹¤. + í˜¹ì€ - ì™€ ê°™ì´.

```jsx
const counter = (state = initialState, action) => {
  
};
```

ì´ì œ ì´ ë¦¬ë“€ì„œ í•¨ìˆ˜ ì•ˆì— switch ë¬¸ì„ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.
```jsx
const counter = (state = initialState, action) => {
	switch (action.type) {
	default:
		return state; //initalState ë¥¼ ë¦¬í„´í•´ë¼
	}
}
```

actionì— ìˆëŠ” typeì— ë”°ë¼ ì–´ë– í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ switchì˜ ì¸ìë¡œ `action.type`ì´ ì˜¨ë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ counter ëª¨ë“ˆì„ export í•´ì£¼ë©´ ëœë‹¤.
```jsx
export default counter;
```

## 02. Storeì— ëª¨ë“ˆ import

ë¦¬ë“€ì„œë¥¼ ìƒì„±í–ˆìœ¼ë‹ˆ, storeì´ë¼ëŠ” ì¤‘ì•™ ë°ì´í„° ê´€ë¦¬ì†Œì— import í•´ì¤˜ì•¼ í•œë‹¤.

redux/config/configStore.js
```jsx
//configStore.js
// ì¤‘ì•™ ë°ì´í„° ê´€ë¦¬ì†Œ(store)ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„
import { createStore } from 'redux';
import { combineReducers } from 'redux';
import counter from '../models/counter';

const rootReducer = combineReducers({
    //ì´ì œ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ì—ì„œ counterë¼ëŠ” ë¦¬ë“€ì„œë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.
    counter,
});
const store = createStore(rootReducer);
export default store;
```

ì—¬ê¸°ì„œ ì„¤ëª…ì´ ì¡°ê¸ˆ í•„ìš”í•œë°, ì›ë˜ useStateì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ìƒì„±í–ˆê¸° ë•Œë¬¸ì— stateë¥¼ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ ë‹¨ìˆœíˆ stateë¥¼ ì ì–´ì£¼ê¸°ë§Œ í•˜ë©´ ëì—ˆë‹¤.

í•˜ì§€ë§Œ, storeì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë¦¬ë•ìŠ¤ì—ì„œë§Œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥(hook)ì„ ê°€ì§€ê³  ì ‘ê·¼ í•´ì•¼ í•œë‹¤. ì´ê²ƒì´ useSelector ì´ë‹¤.

## 03. useSeletor

App.jsì—ì„œ storeì–´ì œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.
```jsx
import { useSelector } from 'react-redux';

function App() {
  // todo: ì—¬ê¸°ì— storeì— ì ‘ê·¼í•˜ì—¬ counterì˜ ê°’ì„ ì½ì–´ë³´ì
  // useSelectorì˜ ì¸ìê°’ì˜ stateëŠ” storeì•ˆì— ìˆëŠ” stateë¥¼ ì˜ë¯¸í•œë‹¤.
  const data = useSelector((state) => {
    return state;
  });

  console.log(data);
  return <></>;
}

export default App;

```

1. useSelector Import
2. const dataë¼ëŠ” ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  useSelectorì„ í†µí•´ ì½œë°± í•¨ìˆ˜ë¥¼ ì‘ì„±
   - useSelectorì˜ ì¸ìê°’ìœ¼ë¡œ stateê°€ ì˜¤ëŠ”ë° ì´ê²ƒì€ storeì•ˆì— ìˆëŠ” stateë¥¼ ì˜ë¯¸í•œë‹¤.
3. console.logë¡œ dataë¥¼ ì°ì–´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ count ì´ˆê¸°ê°’ì„ ë³¼ ìˆ˜ìˆë‹¤.

![](https://i.imgur.com/rGB2c2a.png)

---

[[#02. Storeì— ëª¨ë“ˆ import|ìœ„ì—ì„œ]] storeì˜ rootReducer ë³€ìˆ˜ ì•ˆì— ì „ì—­ì—ì„œ counterë¼ëŠ” ë¦¬ë“€ì„œë¥¼ ì“¸ ìˆ˜ ìˆë‹¤. ë¼ê³  í–ˆê³  ê·¸ì•ˆì— counter ëª¨ë“ˆì„ ë„£ì–´ì¤¬ëŠ”ë°, ì´í•´ê°€ ì‰½ë„ë¡ ìƒˆë¡œìš´ user.js ë¼ëŠ” ëª¨ë“ˆì„ ë§Œë“¤ê³  storeì— import í•´ë³´ì

modules/users.js
```jsx
//ì´ˆê¸° ìƒíƒœ ê°’ (state)
const initialState = {
  userId: 'ì„œê·¼',
};

const users = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state;
  }
};

export default users;

```

config/configStore.js
```jsx
const rootReducer = combineReducers({
  counter,
  users: users,
});
```

![](https://i.imgur.com/8HY7C4Q.png)

### Storeì— íŠ¹ì • ê°’ ë°›ì•„ì˜¤ëŠ” ë°©ë²•

ë§Œì•½ storeì— ìˆëŠ” íŠ¹ì •í•œ ê°’ì„ ë°›ì•„ì˜¤ë ¤ë©´ App.jsì—ì„œ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤.

#### ë°©ë²• 1
App.js
```jsx
function App() {
  const data = useSelector((state) => {
    return state;
  });

  console.log('counter ->', data.counter);
  console.log('user ->', data.users);

  return <></>;
}
```

![](https://i.imgur.com/tJj1jnn.png)

#### ë°©ë²• 2
App.js
```jsx
function App() {
  const counter = useSelector((state) => {
    return state.counter;
  });

  console.log('counter ->', counter);

  return <></>;
}
```

![](https://i.imgur.com/tJj1jnn.png)

#### ë°©ë²• 3
App.js
```jsx
function App() {
  const data = useSelector((state) => {
    return state;
  });

  console.log('counter ->', data.counter.number);
  console.log('user ->', data.users.userId);

  return <></>;
}
```

![](https://i.imgur.com/oVLJ1tm.png)

---

ë‹¤ìŒ ê°•ì˜ : [[04. Redux (useDispatch)|useDispatch]]
