# Redux Counter ë§Œë“¤ê¸°

ë²„íŠ¼ì„ í´ë¦­ì‹œ ì¹´ìš´íŠ¸ê°€ ì¦ê°€í•˜ëŠ” ë¡œì§ì„ ì§œë ¤ê³  í•˜ëŠ”ë°, reduxë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤.

```
ðŸ“¦src  
 â”£ ðŸ“‚redux  
 â”ƒ â”£ ðŸ“‚config  
 â”ƒ â”ƒ â”— ðŸ“œconfigStore.js  
 â”ƒ â”£ ðŸ“‚modules  
 â”ƒ â”ƒ â”— ðŸ“œcounter.js  
 â”ƒ â”— ðŸ“œ.DS_Store  
 â”£ ðŸ“œ.DS_Store  
 â”£ ðŸ“œApp.css  
 â”£ ðŸ“œApp.js  
 â”— ðŸ“œindex.js
```

ìš°ì„ , storeì— ì „ì—­ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ë¦¬ë“€ì„œë¥¼ ìƒì„±í•´ì¤€ë‹¤.

config/configStore.js
```jsx
import { createStore } from 'redux';
import { combineReducers } from 'redux';
import counter from '../modules/counter';

const rootReducer = combineReducers({
  counter,
});
const store = createStore(rootReducer);

export default store;

```

ê·¸ë¦¬ê³  count actionì„ ê´€ë¦¬í•˜ëŠ” ëª¨ë“ˆì„ ìƒì„±í•´ì¤€ë‹¤.

modules/counter.js
```jsx
//ì´ˆê¸° ìƒíƒœ ê°’ (state)
const initialState = {
  number: 0,
};

const counter = (state = initialState, action) => {
  switch (action.type) {
    case 'PLUS_ONE':
      return state + 1; //undefined!
    case 'MINUS_ONE': 
	  return state - 1; //undefined
    default:
      return state;
  }
};

export default counter;

```
ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ ìžˆëŠ”ë°, ì´ˆê¸° ìƒíƒœê°’ì´ ê°ì²´í˜•íƒœì´ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ ë¦¬í„´í•´ì¤˜ì•¼ í•œë‹¤. 

ê³ ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•œë‹¤.

```jsx
  switch (action.type) {
    case 'PLUS_ONE':
      return { number: state.number + 1 };
    case 'MINUS_ONE':
      return { number: state.number - 1 };
    default:
      return state;
  }
```

ì´ì œ App.jsì—ì„œ storeì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ [[03. Redux (useSelector)#03. useSeletor|useSeletor]]ë¥¼ ì‚¬ìš©í•´ì£¼ê³ , dispatchì™€ ì¹´ìš´íŠ¸ ì—…/ë‹¤ìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•´ì¤€ë‹¤.

App.jsx
```jsx
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';

const App = () => {
  //storeì— ì ‘ê·¼
  const data = useSelector((state) => {
    return state.counter;
  });

  //Dispatch ê°€ì ¸ì˜¤ê¸°
  const dispatch = useDispatch();

  //ì¹´ìš´íŠ¸ ì¦ê°€ í•¨ìˆ˜
  const countUpHandler = () => {
    dispatch({
      type: 'PLUS_ONE',
    });
  };

  //ì¹´ìš´íŠ¸ ê°ì†Œ í•¨ìˆ˜
  const countDownHandler = () => {
    dispatch({
      type: 'MINUS_ONE',
    });
  };

  return (
    <>
      <div>
        <h1>í˜„ìž¬ ì¹´ìš´íŠ¸: {data.number}</h1>
        <button onClick={countUpHandler}>+</button>
        <button onClick={countDownHandler}>-</button>
      </div>
    </>
  );
};

export default App;

```


![](https://i.imgur.com/JSGHN2J.gif)

-----

## 01. ë¦¬íŒ©í„°ë§

ì„¸ë¶„í™”ëœ ë„¤ì´ë°ì´ ì¤‘ìš”í•œë°, ë§Œì•½ App.jdì— dispatch íƒ€ìž… ëª…ì„ PLUS_ONEì—ì„œ count/PLUS_ONEìœ¼ë¡œ ë°”ê¾¼ë‹¤ê³  ê°€ì •í–ˆì„ë•Œ, ì»´í¬ë„ŒíŠ¸ì™€ ë¦¬ë“€ì„œì—ì„œì˜ íƒ€ìž…ë„ ì¼ì¼ížˆ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤.

ê·¸ë¦¬ê³ , ë§Œì•½ counter ë¦¬ë“€ì„œë¥¼ 200ê°œì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, í•´ë‹¹ íƒ€ìž…ì„ ëª¨ë‘ ì°¾ì•„ ë°”ê¿”ì¤˜ì•¼í•œë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤.

ì´ëŸ¬í•œ í•˜ë“œ ì½”ë”©ì€ ì§€ì–‘í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. 

ì´ë•Œ í•´ê²°ë°©ë²•ì´ action creatorê³¼ action valueì´ë‹¤.

### action value
`action type`ë“¤ì„ í•˜ë“œì½”ë”©ìœ¼ë¡œ í•˜ë©´ ë‚˜ì¤‘ì— ë³€ìˆ˜ ë³€ê²½ì´ ê¹Œë‹¤ë¡­ë‹¤. ë”°ë¼ì„œ, `action type`ë¥¼ ë³€ìˆ˜í™” í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 

modules/counter.js
```js
//Action value
//ë°–ì—ì„œë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë„ë¡ export
export const PLUS_ONE = 'PLUS_ONE';
export const MINUS_ONE = 'MINUS_ONE';

//ì´ˆê¸° ìƒíƒœ ê°’ (state)
const initialState = {
  number: 0,
};

const counter = (state = initialState, action) => {
  switch (action.type) {
    case PLUS_ONE:
      return { number: state.number + 1 };
    case MINUS_ONE:
      return { number: state.number - 1 };
    default:
      return state;
  }
};

export default counter;

```

App.js
```jsx
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { PLUS_ONE } from './redux/modules/counter';
import { MINUS_ONE } from './redux/modules/counter';

const App = () => {
  //storeì— ì ‘ê·¼
    ...
    
  //Dispatch ê°€ì ¸ì˜¤ê¸°
   ...
   
  //ì¹´ìš´íŠ¸ ì¦ê°€ í•¨ìˆ˜
  const countUpHandler = () => {
    dispatch({
      type: PLUS_ONE,
    });
  };

  //ì¹´ìš´íŠ¸ ê°ì†Œ í•¨ìˆ˜
  const countDownHandler = () => {
    dispatch({
      type: MINUS_ONE,
    });
  };

  return (
    <>
      <div>
        <h1>í˜„ìž¬ ì¹´ìš´íŠ¸: {data.number}</h1>
        <button onClick={countUpHandler}>+</button>
        <button onClick={countDownHandler}>-</button>
      </div>
    </>
  );
};

export default App;

```

### action creator
action ê°ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ë„ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ë³´ê´€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
â†’ ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œì—ì„œë„ ê¶Œìž¥

modules/counter.js
```jsx
...

//Action creator: action valueë¥¼ returní•˜ëŠ” í•¨ìˆ˜
export const plusOne = () => {
  return {
    type: PLUS_ONE,
  };
};

export const minusOne = () => {
  return {
    type: MINUS_ONE,
  };
};

...
```

App.jsx
```jsx
import { plusOne, minusOne } from './redux/modules/counter';

...

  //ì¹´ìš´íŠ¸ ì¦ê°€ í•¨ìˆ˜
  const countUpHandler = () => {
    dispatch(plusOne());
  };

  //ì¹´ìš´íŠ¸ ê°ì†Œ í•¨ìˆ˜
  const countDownHandler = () => {
    dispatch(minusOne());
  };
  
...
```

ì½”ë“œê°€ í›¨ì”¬ ê¹”ë”í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•´ì¡Œë‹¤.

## 02. payload

> payloadë¥¼ í†µí•´ì„œ action ê°ì²´ì— ê°’ì„ ë‹´ì•„, ì¦‰ App.jsxì—ì„œ ì‚¬ìš©í•œ ê°’ì„ storeë¡œ ë³´ë‚¼ ìˆ˜ ìžˆë‹¤. 

modules/counter.js
```jsx
//Action value
const PLUS_N = 'PLUS_N';
const MINUS_N = 'MINUS_N';

//Action creator: action valueë¥¼ returní•˜ëŠ” í•¨ìˆ˜

export const plusN = (payload) => {
  return {
    type: PLUS_N,
    payload: Number(payload), // ë¬¸ìžì—´ë¡œ ë„˜ì–´ì˜¤ëŠ”ê²ƒì„ Numberë¡œ ë°”ê¿”ì¤Œ
  };
};

export const minusN = (payload) => {
  return {
    type: MINUS_N,
    payload: Number(payload), // ë¬¸ìžì—´ë¡œ ë„˜ì–´ì˜¤ëŠ”ê²ƒì„ Numberë¡œ ë°”ê¿”ì¤Œ
  };
};

//ì´ˆê¸° ìƒíƒœ ê°’ (state)
const initialState = {
  number: 0,
};

//action ê°ì²´ ë¼ëŠ”ê²ƒì€ action typeì„ payload ë§Œí¼ ì²˜ë¦¬í•˜ëŠ”ê²ƒì´ë‹¤.
//ex: playloadê°€ 3ì´ë‹¤. 3ë§Œí¼ì„ ì¦ê°€ í•´ë¼
const counter = (state = initialState, action) => {
  switch (action.type) {
    case PLUS_N:
      return { number: state.number + action.payload };
    case MINUS_N:
      return { number: state.number - action.payload };
    default:
      return state;
  }
};

export default counter;

```

App.jsx
```jsx
import React, { useState } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { plusN } from './redux/modules/counter';
import { minusN } from './redux/modules/counter';

const App = () => {
  //storeì— ì ‘ê·¼
  const data = useSelector((state) => {
    return state.counter;
  });

  //Dispatch ê°€ì ¸ì˜¤ê¸°
  const dispatch = useDispatch();

  //ì¹´ìš´íŠ¸ ì¦ê°€ í•¨ìˆ˜
  const countUpHandler = () => {
    dispatch(plusN(number));
  };

  //ì¹´ìš´íŠ¸ ê°ì†Œ í•¨ìˆ˜
  const countDownHandler = () => {
    dispatch(minusN(number));
  };

  //input state
  const [number, setNumber] = useState(0);

  const countInputHandler = (e) => {
    setNumber(e.target.value);
  };

  return (
    <>
      <div>
        <h1>ì„œê·¼ ì¹´ìš´íŠ¸: {data.number}</h1>
        <input type="number" value={number} onChange={countInputHandler} />
        <button onClick={countUpHandler}>+</button>
        <button onClick={countDownHandler}>-</button>
      </div>
    </>
  );
};

export default App;

```

![](https://i.imgur.com/KMbr1sR.gif)
